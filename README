
<h1>Aradon - Lightweight Application Service Platform</h1>


<h2>Quick start</h2>

<p>Start a web server on port 8080 and serve some static files:</p>

Aradon aradon = new Aradon() ;
aradon.init(XMLConfig.BLANK) ;
SectionService section = aradon.attach("section", XMLConfig.BLANK); // base section..
section.attach(PathInfo.create("test", "/web", StaticFileLet.class)) ;

aradon.startServer(8080) ;



For JUnit TestCase.. you use riap(remote internal access protocol)

Request request = new Request(Method.GET, "riap://component/section/web/") ;
Response response = aradon.handle(request) ;



<p>sample test code. for more example, confirm test/net/ion/radon/TestAllAradon.java</p>
<pre><code>
	private Aradon aradon;
	public void setUp() throws Exception {
		this.aradon = new Aradon();
		aradon.init(XMLConfig.BLANK) ;
		
		SectionService section = aradon.attach("section", XMLConfig.BLANK); // base section..
		section.attach(PathInfo.create("test", "/hello", HelloWorldLet.class)) ;
	}
	
	@Override
	protected void tearDown() throws Exception {
		aradon.stop() ;
		super.tearDown();
	}

	public void testHello() throws Exception {
		Request request = new Request(Method.GET, "riap://component/section/hello");
		Response response = aradon.handle(request);

		assertEquals(Status.SUCCESS_OK, response.getStatus());
	}

	public void testGet() throws Exception {
		Request request = new Request(Method.GET, "riap://component/section/hello?abcd=test");
		Response response = aradon.handle(request);

		assertEquals("test", getInnerRequest().getFormParameter().get("abcd"));

	}

	public void testHello2() throws Exception {
		SectionService section = aradon.attach("test", XMLConfig.BLANK);
		section.attach(PathInfo.create("hello", "/hello", "", "", HelloWorldLet.class));

		Request request = new Request(Method.GET, "riap://component/test/hello");
		Response response = aradon.handle(request);

		Debug.debug(response.getEntityAsText());

	}

	public void testRun() throws Exception {
		aradon.startServer(9010) ;
		
		AradonClient ac = AradonClientFactory.create("http://localhost:9010") ;
		Representation repr = ac.createRequest("/section/hello").get() ;
		
		Debug.debug(repr, repr.getText()) ;
	}
	
	
	
	private InnerRequest getInnerRequest(){
		return ((InnerResponse)Response.getCurrent()).getInnerRequest() ;		
	}
	
</code></pre>